{"ast":null,"code":"var _jsxFileName = \"/Users/diego/Documents/myservice/src/components/organisms/register/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, makeStyles, Stepper, Step, StepLabel } from \"@material-ui/core/\";\nimport { RegisterStepLayout } from \"./../../layout\";\nimport { RegisterOne } from \"./First\";\nimport { RegisterTwo } from \"./Second\";\nimport { RegisterThree } from \"./Third\";\nimport { RegisterFourth } from \"./Fourth\";\nimport { RegisterFive } from \"./Five\";\nimport { RegisterSix } from \"./Six\";\nimport { RegisterSeven } from \"./Seven\";\nimport { useSimpleForm, useApiRequest, useSteper } from \"../../../hooks\";\nimport { UserContext } from \"../../../context\";\nimport { getFormDataFromObj, extractUserFields } from \"../../../Utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\n    backgroundColor: theme.palette.type === \"light\" ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\"\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  logoBig: {\n    marginTop: 22,\n    marginBottom: 40,\n    backgroundColor: \"#DEDEDE\",\n    color: \"#FFFFFF\"\n  },\n  loginButton: {\n    backgroundColor: \"#4E5674\",\n    borderRadius: 10,\n    width: 150,\n    height: 50\n  },\n  root: {\n    width: \"100%\"\n  }\n}));\nconst userFormInitialState = {\n  name: \"\",\n  lastname: \"\",\n  email: \"\",\n  address: \"\",\n  password: \"\",\n  passwordConfirm: \"\",\n  language: \"\",\n  age: \"\",\n  phone: \"\",\n  phonePrefix: \"\",\n  city: \"\",\n  zipCode: \"\",\n  avatar: \"\",\n  bankName: \"\",\n  bankAccount: \"\",\n  swift: \"\"\n};\nconst serviceFormInitialState = {\n  owner: \"\",\n  name: \"\",\n  webSite: \"\",\n  isProfessionalService: \"true\",\n  shortDescription: \"\",\n  longDescription: \"\",\n  currency: \"\",\n  priceLowerBound: \"\",\n  priceHigherBound: \"\",\n  canTravel: \"true\",\n  travelingRange: \"\",\n  allowOnline: \"false\",\n  boardNumber: \"\",\n  logoNormalSize: \"\",\n  logoSmallSize: \"\",\n  banner: \"\"\n};\nconst wideImageProps = {\n  imageDimensions: {\n    xs: false,\n    sm: 3,\n    md: 5\n  },\n  formDimensions: {\n    xs: 12,\n    sm: 9,\n    md: 7\n  }\n};\nexport const Register = () => {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    setUserData,\n    ...userRestValues\n  } = useContext(UserContext);\n  const {\n    values: userValues,\n    onChange: userOnChangeHandler,\n    hardSetValues: setUserValuesHard\n  } = useSimpleForm(extractUserFields(userRestValues, userFormInitialState));\n  const {\n    values: serviceValues,\n    onChange: serviceOnChangeHandler\n  } = useSimpleForm(serviceFormInitialState);\n  const [isProvider, setIsProvider] = useState(false);\n  const {\n    postRequest,\n    patchRequest\n  } = useApiRequest();\n  const steps = isProvider ? [RegisterOne, RegisterTwo, RegisterSix, RegisterThree, RegisterFourth, RegisterFive] : [RegisterOne, RegisterSeven];\n  const {\n    currentStep,\n    goBack,\n    goNext\n  } = useSteper(steps);\n\n  const saveUser = () => {\n    const {\n      passwordConfirm,\n      ...user\n    } = userValues;\n    const userFormData = getFormDataFromObj(user);\n    patchRequest(`user/${userRestValues.id}`, userFormData).then(async ({\n      user: updatedUser\n    }) => {\n      if (isProvider) await saveService(updatedUser.id);\n      setUserData(updatedUser);\n      history.push(\"/\");\n    }).catch(() => console.log(\"error there\"));\n  };\n\n  const saveService = async ownerId => {\n    const serviceFormData = getFormDataFromObj({ ...serviceValues,\n      ownerId\n    });\n    await postRequest(\"services\", serviceFormData).then(service => console.log(\"created service is: \", service)).catch(err => console.log(\"error here: \", err));\n  };\n\n  const CurrentStep = steps[currentStep];\n  return /*#__PURE__*/_jsxDEV(RegisterStepLayout, { ...(currentStep === 0 ? wideImageProps : {}),\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: currentStep,\n      children: steps.map((_, stepIndex) => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)\n      }, stepIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CurrentStep, {\n      goBack: goBack,\n      user: userValues,\n      onUserChange: userOnChangeHandler,\n      onServiceChange: serviceOnChangeHandler,\n      service: serviceValues,\n      isProvider: isProvider,\n      setIsProvider: setIsProvider,\n      setUserValuesHard: setUserValuesHard,\n      goNext: goNext\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [currentStep > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.loginButton,\n        onClick: goBack,\n        children: \"Anterior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), currentStep < steps.length - 1 && currentStep > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.loginButton,\n        onClick: goNext,\n        children: \"Siguiente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this), currentStep === steps.length - 1 && /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.loginButton,\n        onClick: saveUser,\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"iEdQp+fbhp1cUTMaRiFuupNixSU=\", false, function () {\n  return [useStyles, useHistory, useSimpleForm, useSimpleForm, useApiRequest, useSteper];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/diego/Documents/myservice/src/components/organisms/register/index.js"],"names":["React","useState","useContext","useHistory","Button","makeStyles","Stepper","Step","StepLabel","RegisterStepLayout","RegisterOne","RegisterTwo","RegisterThree","RegisterFourth","RegisterFive","RegisterSix","RegisterSeven","useSimpleForm","useApiRequest","useSteper","UserContext","getFormDataFromObj","extractUserFields","useStyles","theme","image","backgroundImage","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","logoBig","marginTop","marginBottom","color","loginButton","borderRadius","width","height","root","userFormInitialState","name","lastname","email","address","password","passwordConfirm","language","age","phone","phonePrefix","city","zipCode","avatar","bankName","bankAccount","swift","serviceFormInitialState","owner","webSite","isProfessionalService","shortDescription","longDescription","currency","priceLowerBound","priceHigherBound","canTravel","travelingRange","allowOnline","boardNumber","logoNormalSize","logoSmallSize","banner","wideImageProps","imageDimensions","xs","sm","md","formDimensions","Register","classes","history","setUserData","userRestValues","values","userValues","onChange","userOnChangeHandler","hardSetValues","setUserValuesHard","serviceValues","serviceOnChangeHandler","isProvider","setIsProvider","postRequest","patchRequest","steps","currentStep","goBack","goNext","saveUser","user","userFormData","id","then","updatedUser","saveService","push","catch","console","log","ownerId","serviceFormData","service","err","CurrentStep","map","_","stepIndex","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button,\n  makeStyles,\n  Stepper,\n  Step,\n  StepLabel,\n} from \"@material-ui/core/\";\n\nimport { RegisterStepLayout } from \"./../../layout\";\nimport { RegisterOne } from \"./First\";\nimport { RegisterTwo } from \"./Second\";\nimport { RegisterThree } from \"./Third\";\nimport { RegisterFourth } from \"./Fourth\";\nimport { RegisterFive } from \"./Five\";\nimport { RegisterSix } from \"./Six\";\nimport { RegisterSeven } from \"./Seven\";\nimport { useSimpleForm, useApiRequest, useSteper } from \"../../../hooks\";\nimport { UserContext } from \"../../../context\";\nimport { getFormDataFromObj, extractUserFields } from \"../../../Utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  logoBig: {\n    marginTop: 22,\n    marginBottom: 40,\n    backgroundColor: \"#DEDEDE\",\n    color: \"#FFFFFF\",\n  },\n  loginButton: {\n    backgroundColor: \"#4E5674\",\n    borderRadius: 10,\n    width: 150,\n    height: 50,\n  },\n  root: {\n    width: \"100%\",\n  },\n}));\n\nconst userFormInitialState = {\n  name: \"\",\n  lastname: \"\",\n  email: \"\",\n  address: \"\",\n  password: \"\",\n  passwordConfirm: \"\",\n  language: \"\",\n  age: \"\",\n  phone: \"\",\n  phonePrefix: \"\",\n  city: \"\",\n  zipCode: \"\",\n  avatar: \"\",\n  bankName: \"\",\n  bankAccount: \"\",\n  swift: \"\",\n};\n\nconst serviceFormInitialState = {\n  owner: \"\",\n  name: \"\",\n  webSite: \"\",\n  isProfessionalService: \"true\",\n  shortDescription: \"\",\n  longDescription: \"\",\n  currency: \"\",\n  priceLowerBound: \"\",\n  priceHigherBound: \"\",\n  canTravel: \"true\",\n  travelingRange: \"\",\n  allowOnline: \"false\",\n  boardNumber: \"\",\n  logoNormalSize: \"\",\n  logoSmallSize: \"\",\n  banner: \"\",\n};\n\nconst wideImageProps = {\n  imageDimensions: {\n    xs: false,\n    sm: 3,\n    md: 5,\n  },\n  formDimensions: {\n    xs: 12,\n    sm: 9,\n    md: 7,\n  },\n};\n\nexport const Register = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { setUserData, ...userRestValues } = useContext(UserContext);\n  const {\n    values: userValues,\n    onChange: userOnChangeHandler,\n    hardSetValues: setUserValuesHard,\n  } = useSimpleForm(extractUserFields(userRestValues, userFormInitialState));\n\n  const { values: serviceValues, onChange: serviceOnChangeHandler } =\n    useSimpleForm(serviceFormInitialState);\n\n  const [isProvider, setIsProvider] = useState(false);\n  const { postRequest, patchRequest } = useApiRequest();\n\n  const steps = isProvider\n    ? [\n        RegisterOne,\n        RegisterTwo,\n        RegisterSix,\n        RegisterThree,\n        RegisterFourth,\n        RegisterFive,\n      ]\n    : [RegisterOne, RegisterSeven];\n\n  const { currentStep, goBack, goNext } = useSteper(steps);\n\n  const saveUser = () => {\n    const { passwordConfirm, ...user } = userValues;\n    const userFormData = getFormDataFromObj(user);\n    patchRequest(`user/${userRestValues.id}`, userFormData)\n      .then(async ({ user: updatedUser }) => {\n        if (isProvider) await saveService(updatedUser.id);\n        setUserData(updatedUser);\n        history.push(\"/\");\n      })\n      .catch(() => console.log(\"error there\"));\n  };\n\n  const saveService = async (ownerId) => {\n    const serviceFormData = getFormDataFromObj({ ...serviceValues, ownerId });\n    await postRequest(\"services\", serviceFormData)\n      .then((service) => console.log(\"created service is: \", service))\n      .catch((err) => console.log(\"error here: \", err));\n  };\n\n  const CurrentStep = steps[currentStep];\n\n  return (\n    <RegisterStepLayout {...(currentStep === 0 ? wideImageProps : {})}>\n      <Stepper activeStep={currentStep}>\n        {steps.map((_, stepIndex) => (\n          <Step key={stepIndex}>\n            <StepLabel />\n          </Step>\n        ))}\n      </Stepper>\n      <CurrentStep\n        goBack={goBack}\n        user={userValues}\n        onUserChange={userOnChangeHandler}\n        onServiceChange={serviceOnChangeHandler}\n        service={serviceValues}\n        isProvider={isProvider}\n        setIsProvider={setIsProvider}\n        setUserValuesHard={setUserValuesHard}\n        goNext={goNext}\n      />\n      <div className=\"login\">\n        {currentStep > 0 && (\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.loginButton}\n            onClick={goBack}\n          >\n            Anterior\n          </Button>\n        )}\n        {currentStep < steps.length - 1 && currentStep > 0 && (\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.loginButton}\n            onClick={goNext}\n          >\n            Siguiente\n          </Button>\n        )}\n        {currentStep === steps.length - 1 && (\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.loginButton}\n            onClick={saveUser}\n          >\n            Guardar\n          </Button>\n        )}\n      </div>\n    </RegisterStepLayout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}