{"ast":null,"code":"var _jsxFileName = \"/Users/diego/Documents/myservice/src/components/organisms/register/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Paper, Grid, makeStyles, Stepper, Step, StepLabel } from \"@material-ui/core/\";\nimport { RegisterOne } from \"./First\";\nimport { RegisterTwo } from \"./Second\";\nimport { RegisterThree } from \"./Third\";\nimport { RegisterFourth } from \"./Fourth\";\nimport { RegisterFive } from \"./Five\";\nimport { RegisterSix } from \"./Six\";\nimport { RegisterSeven } from \"./Seven\";\nimport { useSimpleForm, useApiRequest } from \"../../../hooks\";\nimport { UserContext } from \"../../../context\";\nimport { getFormDataFromObj } from \"../../../Utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\n    backgroundColor: theme.palette.type === \"light\" ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\"\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  logoBig: {\n    marginTop: 22,\n    marginBottom: 40,\n    backgroundColor: \"#DEDEDE\",\n    color: \"#FFFFFF\"\n  },\n  loginButton: {\n    backgroundColor: \"#4E5674\",\n    borderRadius: 10,\n    width: 150,\n    height: 50\n  },\n  root: {\n    width: \"100%\"\n  }\n}));\nconst userFormInitialState = {\n  name: \"\",\n  lastname: \"\",\n  email: \"\",\n  address: \"\",\n  password: \"\",\n  passwordConfirm: \"\",\n  language: \"\",\n  age: \"\",\n  phone: \"\",\n  phonePrefix: \"\",\n  city: \"\",\n  zipCode: \"\",\n  avatar: \"\",\n  bankName: \"\",\n  bankAccount: \"\",\n  swift: \"\"\n}; // const userFormInitialState = {\n//   name: \"José\",\n//   lastname: \"Paniagua\",\n//   email: \"jose.paniagua@alumnos.uneatlantico.es\",\n//   address: \"Calle Floranes 16\",\n//   password: \"123\",\n//   passwordConfirm: \"123\",\n//   language: \"ES\",\n//   age: \"22\",\n//   phone: \"663584648\",\n//   phonePrefix: \"+34\",\n//   city: \"Santander\",\n//   zipCode: \"39011\",\n//   avatar: \"\",\n//   bankName: \"Santander\",\n//   bankAccount: \"es 5009 8910 20394\",\n//   address: \"Floranes\",\n//   swift: \"ES 400\",\n// };\n\nconst serviceFormInitialState = {\n  owner: \"\",\n  name: \"\",\n  webSite: \"\",\n  isProfessionalService: \"true\",\n  shortDescription: \"\",\n  longDescription: \"\",\n  currency: \"\",\n  priceLowerBound: \"\",\n  priceHigherBound: \"\",\n  canTravel: \"true\",\n  travelingRange: \"\",\n  allowOnline: \"false\",\n  boardNumber: \"\",\n  logoNormalSize: \"\",\n  logoSmallSize: \"\",\n  banner: \"\"\n}; // const serviceFormInitialState = {\n//   owner: \"\",\n//   name: \"Clases de programación\",\n//   webSite: \"\",\n//   isProfessionalService: \"true\",\n//   shortDescription: \"Clases de progra por pani\",\n//   longDescription: \"Clases de progra por pani\",\n//   currency: \"EUR\",\n//   priceLowerBound: \"5\",\n//   priceHigherBound: \"15\",\n//   canTravel: \"true\",\n//   travelingRange: \"\",\n//   allowOnline: \"false\",\n//   boardNumber: \"200\",\n//   logoNormalSize: \"\",\n//   logoSmallSize: \"\",\n//   banner: \"\",\n// };\n\nexport const Register = () => {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    setUserData\n  } = useContext(UserContext);\n  const {\n    values: userValues,\n    onChange: userOnChangeHandler\n  } = useSimpleForm(userFormInitialState);\n  const {\n    values: serviceValues,\n    onChange: serviceOnChangeHandler\n  } = useSimpleForm(serviceFormInitialState);\n  const [activeStep, setActiveStep] = useState(0);\n  const [isProvider, setIsProvider] = useState(false);\n  const {\n    postRequest\n  } = useApiRequest();\n  const steps = isProvider ? [RegisterOne, RegisterTwo, RegisterSix, RegisterThree, RegisterFourth, RegisterFive] : [RegisterOne, RegisterSeven];\n\n  const saveUser = () => {\n    const {\n      passwordConfirm,\n      ...user\n    } = userValues;\n    const userFormData = getFormDataFromObj(user);\n    postRequest(\"user\", userFormData).then(async ({\n      user: createdUser\n    }) => {\n      if (isProvider) await saveService(createdUser.id);\n      setUserData(createdUser);\n      history.push(\"/\");\n    });\n  };\n\n  const saveService = async ownerId => {\n    const serviceFormData = getFormDataFromObj({ ...serviceValues,\n      ownerId\n    });\n    await postRequest(\"services\", serviceFormData).then(service => console.log(\"created service is: \", service)).catch(err => console.log(\"error: \", err));\n  };\n\n  const nextStep = () => {\n    if (activeStep < steps.length - 1) setActiveStep(currentStep => currentStep + 1);\n  };\n\n  const goBack = () => {\n    if (activeStep !== 0) setActiveStep(currentStep => currentStep - 1);\n  };\n\n  const CurrentStep = steps[activeStep];\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    component: \"main\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: false,\n      sm: 3,\n      md: 3,\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      sm: 9,\n      md: 9,\n      component: Paper,\n      elevation: 6,\n      square: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          className: classes.logoBig,\n          children: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Stepper, {\n            activeStep: activeStep,\n            children: steps.map((_, stepIndex) => /*#__PURE__*/_jsxDEV(Step, {\n              children: /*#__PURE__*/_jsxDEV(StepLabel, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)\n            }, stepIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CurrentStep, {\n            goBack: goBack,\n            user: userValues,\n            onUserChange: userOnChangeHandler,\n            onServiceChange: serviceOnChangeHandler,\n            service: serviceValues,\n            isProvider: isProvider,\n            setIsProvider: setIsProvider\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login\",\n          children: [activeStep > 0 && /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.loginButton,\n            onClick: goBack,\n            children: \"Anterior\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), activeStep < steps.length - 1 && /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.loginButton,\n            onClick: nextStep,\n            children: \"Siguiente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), activeStep === steps.length - 1 && /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.loginButton,\n            onClick: saveUser,\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"yPqLwJcMjBjngf+CxGIFoOOBS9M=\", false, function () {\n  return [useStyles, useHistory, useSimpleForm, useSimpleForm, useApiRequest];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/diego/Documents/myservice/src/components/organisms/register/index.js"],"names":["React","useState","useContext","useHistory","Button","Paper","Grid","makeStyles","Stepper","Step","StepLabel","RegisterOne","RegisterTwo","RegisterThree","RegisterFourth","RegisterFive","RegisterSix","RegisterSeven","useSimpleForm","useApiRequest","UserContext","getFormDataFromObj","useStyles","theme","image","backgroundImage","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","logoBig","marginTop","marginBottom","color","loginButton","borderRadius","width","height","root","userFormInitialState","name","lastname","email","address","password","passwordConfirm","language","age","phone","phonePrefix","city","zipCode","avatar","bankName","bankAccount","swift","serviceFormInitialState","owner","webSite","isProfessionalService","shortDescription","longDescription","currency","priceLowerBound","priceHigherBound","canTravel","travelingRange","allowOnline","boardNumber","logoNormalSize","logoSmallSize","banner","Register","classes","history","setUserData","values","userValues","onChange","userOnChangeHandler","serviceValues","serviceOnChangeHandler","activeStep","setActiveStep","isProvider","setIsProvider","postRequest","steps","saveUser","user","userFormData","then","createdUser","saveService","id","push","ownerId","serviceFormData","service","console","log","catch","err","nextStep","length","currentStep","goBack","CurrentStep","map","_","stepIndex"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button,\n  Paper,\n  Grid,\n  makeStyles,\n  Stepper,\n  Step,\n  StepLabel,\n} from \"@material-ui/core/\";\n\nimport { RegisterOne } from \"./First\";\nimport { RegisterTwo } from \"./Second\";\nimport { RegisterThree } from \"./Third\";\nimport { RegisterFourth } from \"./Fourth\";\nimport { RegisterFive } from \"./Five\";\nimport { RegisterSix } from \"./Six\";\nimport { RegisterSeven } from \"./Seven\";\nimport { useSimpleForm, useApiRequest } from \"../../../hooks\";\nimport { UserContext } from \"../../../context\";\nimport { getFormDataFromObj } from \"../../../Utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  logoBig: {\n    marginTop: 22,\n    marginBottom: 40,\n    backgroundColor: \"#DEDEDE\",\n    color: \"#FFFFFF\",\n  },\n  loginButton: {\n    backgroundColor: \"#4E5674\",\n    borderRadius: 10,\n    width: 150,\n    height: 50,\n  },\n  root: {\n    width: \"100%\",\n  },\n}));\n\nconst userFormInitialState = {\n  name: \"\",\n  lastname: \"\",\n  email: \"\",\n  address: \"\",\n  password: \"\",\n  passwordConfirm: \"\",\n  language: \"\",\n  age: \"\",\n  phone: \"\",\n  phonePrefix: \"\",\n  city: \"\",\n  zipCode: \"\",\n  avatar: \"\",\n  bankName: \"\",\n  bankAccount: \"\",\n  swift: \"\",\n};\n// const userFormInitialState = {\n//   name: \"José\",\n//   lastname: \"Paniagua\",\n//   email: \"jose.paniagua@alumnos.uneatlantico.es\",\n//   address: \"Calle Floranes 16\",\n//   password: \"123\",\n//   passwordConfirm: \"123\",\n//   language: \"ES\",\n//   age: \"22\",\n//   phone: \"663584648\",\n//   phonePrefix: \"+34\",\n//   city: \"Santander\",\n//   zipCode: \"39011\",\n//   avatar: \"\",\n//   bankName: \"Santander\",\n//   bankAccount: \"es 5009 8910 20394\",\n//   address: \"Floranes\",\n//   swift: \"ES 400\",\n// };\n\nconst serviceFormInitialState = {\n  owner: \"\",\n  name: \"\",\n  webSite: \"\",\n  isProfessionalService: \"true\",\n  shortDescription: \"\",\n  longDescription: \"\",\n  currency: \"\",\n  priceLowerBound: \"\",\n  priceHigherBound: \"\",\n  canTravel: \"true\",\n  travelingRange: \"\",\n  allowOnline: \"false\",\n  boardNumber: \"\",\n  logoNormalSize: \"\",\n  logoSmallSize: \"\",\n  banner: \"\",\n};\n// const serviceFormInitialState = {\n//   owner: \"\",\n//   name: \"Clases de programación\",\n//   webSite: \"\",\n//   isProfessionalService: \"true\",\n//   shortDescription: \"Clases de progra por pani\",\n//   longDescription: \"Clases de progra por pani\",\n//   currency: \"EUR\",\n//   priceLowerBound: \"5\",\n//   priceHigherBound: \"15\",\n//   canTravel: \"true\",\n//   travelingRange: \"\",\n//   allowOnline: \"false\",\n//   boardNumber: \"200\",\n//   logoNormalSize: \"\",\n//   logoSmallSize: \"\",\n//   banner: \"\",\n// };\n\nexport const Register = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { setUserData } = useContext(UserContext);\n  const { values: userValues, onChange: userOnChangeHandler } =\n    useSimpleForm(userFormInitialState);\n  const { values: serviceValues, onChange: serviceOnChangeHandler } =\n    useSimpleForm(serviceFormInitialState);\n  const [activeStep, setActiveStep] = useState(0);\n  const [isProvider, setIsProvider] = useState(false);\n  const { postRequest } = useApiRequest();\n\n  const steps = isProvider\n    ? [\n        RegisterOne,\n        RegisterTwo,\n        RegisterSix,\n        RegisterThree,\n        RegisterFourth,\n        RegisterFive,\n      ]\n    : [RegisterOne, RegisterSeven];\n\n  const saveUser = () => {\n    const { passwordConfirm, ...user } = userValues;\n    const userFormData = getFormDataFromObj(user);\n    postRequest(\"user\", userFormData).then(async ({ user: createdUser }) => {\n      if (isProvider) await saveService(createdUser.id);\n      setUserData(createdUser);\n      history.push(\"/\");\n    });\n  };\n\n  const saveService = async (ownerId) => {\n    const serviceFormData = getFormDataFromObj({ ...serviceValues, ownerId });\n    await postRequest(\"services\", serviceFormData)\n      .then((service) => console.log(\"created service is: \", service))\n      .catch((err) => console.log(\"error: \", err));\n  };\n\n  const nextStep = () => {\n    if (activeStep < steps.length - 1)\n      setActiveStep((currentStep) => currentStep + 1);\n  };\n\n  const goBack = () => {\n    if (activeStep !== 0) setActiveStep((currentStep) => currentStep - 1);\n  };\n\n  const CurrentStep = steps[activeStep];\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <Grid item xs={false} sm={3} md={3} className={classes.image} />\n      <Grid item xs={12} sm={9} md={9} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Button variant=\"contained\" className={classes.logoBig}>\n            Logo\n          </Button>\n          <div>\n            <Stepper activeStep={activeStep}>\n              {steps.map((_, stepIndex) => (\n                <Step key={stepIndex}>\n                  <StepLabel />\n                </Step>\n              ))}\n            </Stepper>\n            <CurrentStep\n              goBack={goBack}\n              user={userValues}\n              onUserChange={userOnChangeHandler}\n              onServiceChange={serviceOnChangeHandler}\n              service={serviceValues}\n              isProvider={isProvider}\n              setIsProvider={setIsProvider}\n            />\n          </div>\n          <div className=\"login\">\n            {activeStep > 0 && (\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.loginButton}\n                onClick={goBack}\n              >\n                Anterior\n              </Button>\n            )}\n            {activeStep < steps.length - 1 && (\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.loginButton}\n                onClick={nextStep}\n              >\n                Siguiente\n              </Button>\n            )}\n            {activeStep === steps.length - 1 && (\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.loginButton}\n                onClick={saveUser}\n              >\n                Guardar\n              </Button>\n            )}\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}